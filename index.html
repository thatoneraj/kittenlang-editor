<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Python & KittenLang Tab-based Converter</title>
  <style>
    :root {
      --bg: #fff0f6;
      --bg-dark: #f7d6e0;
      --text: #572a4e;
      --text-light: #a75893;
      --accent: #d66ba0;
      --accent-light: #f9cee6;
      --border: #f0a6ca;
      --font: 'Comic Sans MS', cursive, sans-serif;
    }
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0; font-family: var(--font);
      display: flex; flex-direction: column;
      height: 100vh;
      background: var(--bg);
      color: var(--text);
      user-select: none;
    }
    h1 {
      text-align: center;
      padding: 1rem 0 0.5rem 0;
      font-weight: 900;
      font-size: 2.2rem;
      letter-spacing: 0.1em;
      color: var(--accent);
      user-select: none;
    }
    #container {
      max-width: 900px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      height: 100%;
      border: 2px solid var(--border);
      border-radius: 10px;
      background: var(--bg-dark);
      box-shadow: 0 5px 15px rgba(214,107,160,0.3);
    }
    /* Tabs */
    #tabs {
      display: flex;
      border-bottom: 2px solid var(--border);
      background: var(--accent-light);
      user-select: none;
    }
    .tab {
      flex: 1;
      padding: 0.75rem 0;
      text-align: center;
      cursor: pointer;
      font-weight: 700;
      color: var(--accent);
      border-bottom: 3px solid transparent;
      transition: background-color 0.3s ease, border-bottom-color 0.3s ease;
    }
    .tab:hover:not(.active) {
      background: var(--accent);
      color: white;
    }
    .tab.active {
      background: white;
      border-bottom-color: var(--accent);
      color: var(--accent);
      font-weight: 900;
    }

    /* Editor area */
    .editor-container {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 1rem;
      box-sizing: border-box;
      background: white;
      border-radius: 0 0 10px 10px;
    }
    textarea {
      flex: 1;
      width: 100%;
      resize: none;
      border: 2px solid var(--border);
      border-radius: 10px;
      padding: 1rem;
      font-family: monospace;
      font-size: 14px;
      line-height: 1.4;
      color: var(--text);
      background: var(--bg-dark);
      transition: border-color 0.3s ease;
      overflow-y: auto;
    }
    textarea:focus {
      outline: none;
      border-color: var(--accent);
      background: #ffe6f0;
    }
    /* Responsive */
    @media (max-width: 600px) {
      h1 {
        font-size: 1.6rem;
        padding-top: 0.8rem;
      }
      .tab {
        font-size: 0.9rem;
        padding: 0.5rem 0;
      }
    }
#container {
  width: 90vw;          /* 90% of viewport width */
  max-width: 900px;     /* max width for big screens */
  min-width: 280px;     /* minimum width for small devices */
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  height: 100%;
  border: 2px solid var(--border);
  border-radius: 10px;
  background: var(--bg-dark);
  box-shadow: 0 5px 15px rgba(214,107,160,0.3);
}
#container {
  font-family: 'Comic Sans MS', cursive, sans-serif;
  /* plus the other styles */
}

textarea {
  font-family: 'Comic Sans MS', cursive, sans-serif;
  /* other existing styles */
}


  </style>
</head>
<body>
  <h1>üêæ Python & KittenLang Converter</h1>
  <div id="container" role="region" aria-label="Python and KittenLang editor tabs">
    <div id="tabs" role="tablist">
      <button role="tab" id="tab-python" class="tab active" aria-selected="true" aria-controls="python-editor" tabindex="0">Python</button>
      <button role="tab" id="tab-kitten" class="tab" aria-selected="false" aria-controls="kitten-editor" tabindex="-1">KittenLang</button>
    </div>

    <div class="editor-container">
      <textarea id="python-editor" role="tabpanel" aria-labelledby="tab-python" spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="Write Python code here..."></textarea>
      <textarea id="kitten-editor" role="tabpanel" aria-labelledby="tab-kitten" spellcheck="false" autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="Write KittenLang code here..." style="display:none;"></textarea>
    </div>
  </div>

  <script>
    // Dictionaries for translation
    const pythonToKitten = {
      def: "lick",
      class: "clawss",
      return: "bring",
      yield: "drop",
      pass: "napass",
      break: "pawbreak",
      continue: "pawtinue",
      if: "nya",
      elif: "nyan",
      else: "meow",
      for: "paw",
      while: "mrr",
      try: "purr",
      except: "hiss",
      finally: "stretch",
      with: "snuggle",
      as: "fluff",
      import: "fetch",
      from: "scruff",
      global: "catwide",
      nonlocal: "nocatwide",
      lambda: "kitbda",
      del: "scratchout",
      assert: "pawfirm",
      raise: "hissup",
      async: "prowl",
      await: "waitpaw",
      match: "clawmatch",
      case: "pawsome",
      and: "pawand",
      or: "pawor",
      not: "nopaw",
      in: "whiskin",
      is: "isfur",
      True: "yarn",
      False: "nap",
      None: "nada",
      print: "cattype",
      input: "catnap",
      len: "tail",
      open: "scratch",
      range: "leap",
      list: "litter",
      dict: "basket",
      set: "purrset",
      int: "whiskint",
      float: "milkfloat",
      str: "furstr",
      bool: "meowbool",
      type: "pawtype",
      zip: "buddyup",
      map: "changeall",
      filter: "pickpaw",
      any: "someone",
      all: "everyone",
      sum: "totaltreats",
      min: "smallestpaw",
      max: "biggestpaw",
      abs: "jump",
      sorted: "orderup",
      round: "roundbowl",
      enumerate: "rollcall",
    };

    const kittenToPython = Object.fromEntries(
      Object.entries(pythonToKitten).map(([k,v]) => [v,k])
    );

    // Escape regex helper
    function escapeRegex(s) {
      return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
    }

    // Translation function
    function translate(code, dict) {
      const keys = Object.keys(dict).sort((a,b) => b.length - a.length);
      keys.forEach(k => {
        const regex = new RegExp(`\\b${escapeRegex(k)}\\b`, 'g');
        code = code.replace(regex, dict[k]);
      });
      return code;
    }

    // Elements
    const tabPython = document.getElementById('tab-python');
    const tabKitten = document.getElementById('tab-kitten');
    const pythonEditor = document.getElementById('python-editor');
    const kittenEditor = document.getElementById('kitten-editor');

    // Tab switching function
    function switchTab(toTab) {
      if(toTab === 'python') {
        tabPython.classList.add('active');
        tabPython.setAttribute('aria-selected', 'true');
        tabPython.setAttribute('tabindex', '0');
        tabKitten.classList.remove('active');
        tabKitten.setAttribute('aria-selected', 'false');
        tabKitten.setAttribute('tabindex', '-1');

        pythonEditor.style.display = '';
        kittenEditor.style.display = 'none';
        pythonEditor.focus();
      } else {
        tabKitten.classList.add('active');
        tabKitten.setAttribute('aria-selected', 'true');
        tabKitten.setAttribute('tabindex', '0');
        tabPython.classList.remove('active');
        tabPython.setAttribute('aria-selected', 'false');
        tabPython.setAttribute('tabindex', '-1');

        kittenEditor.style.display = '';
        pythonEditor.style.display = 'none';
        kittenEditor.focus();
      }
    }

    tabPython.addEventListener('click', () => switchTab('python'));
    tabKitten.addEventListener('click', () => switchTab('kitten'));

    // Prevent circular updates
    let updatingFromPython = false;
    let updatingFromKitten = false;

    pythonEditor.addEventListener('input', () => {
      if(updatingFromKitten) return;
      updatingFromPython = true;
      kittenEditor.value = translate(pythonEditor.value, pythonToKitten);
      updatingFromPython = false;
    });

    kittenEditor.addEventListener('input', () => {
      if(updatingFromPython) return;
      updatingFromKitten = true;
      pythonEditor.value = translate(kittenEditor.value, kittenToPython);
      updatingFromKitten = false;
    });

    // Initialize with Python tab active
    switchTab('python');
  </script>
</body>
</html>
